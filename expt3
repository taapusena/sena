3A1 ::: // objective: To interface an LM35 temperature sensor with an Arduino Uno
//LCD
#include <Wire.h>
#include <LiquidCrystal_I2C.h>

LiquidCrystal_I2C lcd(0x27, 16, 2);  

const int lm35Pin = A0;

void setup() {
  lcd.init();          // Initialize LCD
  lcd.backlight();     // Turn on backlight
  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("LM35 Temp Sensor");
  delay(2000);
}

void loop() {
  // Read LM35 value
  int adcValue = analogRead(lm35Pin);

  // Convert ADC value to Celsius
  float voltage = adcValue * (5.0 / 1023.0); // 10-bit ADC, 5V ref
  float tempC = voltage * 100;               // LM35: 10mV = 1°C
  float tempF = (tempC * 9 / 5) + 32;

  // Display on LCD
  lcd.clear();
  lcd.setCursor(0, 0);
  lcd.print("Celsius: ");
  lcd.print(tempC, 1);  // one decimal place

  lcd.setCursor(0, 1);
  lcd.print("Fahren: ");
  lcd.print(tempF, 1);

  delay(2000);  // Update every 2 seconds
}


3A2::OLED
/*A-PROBLEM STATEMENT-2
To interface an LM35 temperature sensor with an Arduino Uno
Nano, read temperature values, display these values in both Celsius and
Fahrenheit on an OLED screen, and record the readings
in an observation table over a period of time.
*/

#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET    -1

Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

const int lm35Pin = A0;

void setup() {
  if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    Serial.println(F("SSD1306 allocation failed"));
    for (;;);
  }
  display.clearDisplay();
  display.display();

  Serial.begin(9600);
  Serial.println("Time(s)\tTemp (°C)\tTemp (°F)");
}

void loop() {
  static unsigned long startTime = millis();
  
  int sensorValue = analogRead(lm35Pin);
  float voltage = sensorValue * (5.0 / 1023.0);
  float tempC = voltage * 100.0;
  
  tempC -= 110; 
  float tempF = (tempC * 9.0 / 5.0) + 32.0;

  display.clearDisplay();

  display.setTextSize(1);
  display.setTextColor(SSD1306_WHITE);
  display.setCursor(0, 0);
  display.print("Temperature:");

  display.setTextSize(2);
  display.setCursor(0, 10);
  display.print(tempC, 2);
  display.cp437(true);
  display.write(248);
  display.print("C");

  display.setTextSize(1);
  display.setCursor(0, 35);
  display.print("Temperature:");

  display.setTextSize(2);
  display.setCursor(0, 45);
  display.print(tempF, 2);
  display.cp437(true);
  display.write(248);
  display.print("F");

  display.display();

  unsigned long elapsedSec = (millis() - startTime) / 1000;
  Serial.print(elapsedSec);
  Serial.print("\t");
  Serial.print(tempC, 2);
  Serial.print("\t\t");
  Serial.println(tempF, 2);

  delay(2000);
}


3B :: /*B-PROBLEM STATEMENT
Interfacing DHT11/DHT22 Humidity and Temperature Sensor With
Arduino Write a program in Embedded C to detect temperature and hu-
midity and print the values to the Serial Monitor.
*/

#include "DHT.h"

#define DHTPIN 2       
#define DHTTYPE DHT11  

DHT dht(DHTPIN, DHTTYPE);

void setup() {
  Serial.begin(9600);       
  dht.begin();
}

void loop() {
  float humidity = dht.readHumidity();             
  float temperatureC = dht.readTemperature();      
  float temperatureF = dht.readTemperature(true); 


  if (isnan(humidity) || isnan(temperatureC) || isnan(temperatureF)) {
    Serial.println("Failed to read from DHT sensor!");
    return;
  }

  Serial.print("Humidity: ");
  Serial.print(humidity);
  Serial.print(" %\t");

  Serial.print("Temperature: ");
  Serial.print(temperatureC);
  Serial.print(" *C  ");
  
  Serial.print(temperatureF);
  Serial.println(" *F");

  delay(2000);
}

3C:: /*C-PROBLEM STATEMENT
Interface a soil moisture sensor YL-69 or HL-69 using analog output
with an Arduino, read the moisture level, and control a water motor
based on the soil moisture level. Write a program in Embedded C to
detect and display these values.
*/

#define MOISTURE_SENSOR_PIN A0    
#define SENSOR_DIGITAL_PIN 3       
#define RELAY_PIN 2                
#define BUZZER_PIN 9
#define LED_PIN 8

void setup() {
  pinMode(MOISTURE_SENSOR_PIN, INPUT);
  pinMode(SENSOR_DIGITAL_PIN, INPUT); 
  pinMode(RELAY_PIN, OUTPUT);
  pinMode(BUZZER_PIN, OUTPUT);
  pinMode(LED_PIN, OUTPUT);

  digitalWrite(RELAY_PIN, LOW); 
  Serial.begin(9600);
}

void loop() {
  int rawValue = analogRead(MOISTURE_SENSOR_PIN);
  int moisture = map(rawValue, 1023, 0, 0, 100); 
  moisture = constrain(moisture, 0, 100);

  Serial.print("Moisture: ");
  Serial.print(moisture);
  Serial.println("%");

  if (moisture < 10) {
    digitalWrite(RELAY_PIN, HIGH);  
    digitalWrite(LED_PIN, HIGH);
    digitalWrite(BUZZER_PIN, HIGH);
    delay(100);
    digitalWrite(BUZZER_PIN, LOW);
    Serial.println("Status: Dry - Pump ON");
  } else {
    digitalWrite(RELAY_PIN, LOW);   
    digitalWrite(LED_PIN, LOW);
    Serial.println("Status: Wet - Pump OFF");
  }

  delay(1000);
}


3D:: // objective: Interface an ultrasonic sensor HC-SR04 with an Arduino

#define TRIG_PIN 9
#define ECHO_PIN 10

long duration;
float distance_cm;

void setup() {
  Serial.begin(9600);
  pinMode(TRIG_PIN, OUTPUT);
  pinMode(ECHO_PIN, INPUT);

  Serial.println("HC-SR04 Distance Measurement");
  Serial.println("Time (s)\tDistance (cm)");
}

void loop() {
  // Send 10µs pulse to TRIG
  digitalWrite(TRIG_PIN, LOW);
  delayMicroseconds(2);
  digitalWrite(TRIG_PIN, HIGH);
  delayMicroseconds(10);
  digitalWrite(TRIG_PIN, LOW);

  // Read echo pulse
  duration = pulseIn(ECHO_PIN, HIGH);

  // Calculate distance (speed of sound = 343 m/s)
  distance_cm = duration * 0.0343 / 2;

  // Print to Serial Monitor
  Serial.print(millis() / 1000); // Time in seconds
  Serial.print("\t\t");
  Serial.print(distance_cm, 2);
  Serial.println(" cm");

  delay(1000); // Update every second
}

3E::To interface an Infrared (IR) sensor module with an Arduino to de tect and count the presence of objects. The count of detected objects will be displayed on a 4-digit 7-segment display using I2C communication TM1637
// objective:  To interface an Infrared (IR) sensor module with an Arduino

#include <TM1637Display.h>

// TM1637 pins
#define CLK 3
#define DIO 4
TM1637Display display(CLK, DIO);

// IR Sensor pin
#define IR_PIN 2

int objectCount = 0;
bool lastState = HIGH;  // assuming IR sensor output is HIGH when no object

void setup() {
  pinMode(IR_PIN, INPUT);
  display.setBrightness(0x0f);   // Max brightness
  display.showNumberDec(0);      // Start with 0
  Serial.begin(9600);
  Serial.println("IR Object Counter");
}

void loop() {
  int currentState = digitalRead(IR_PIN);

  // Detect falling edge: object passes
  if (lastState == HIGH && currentState == LOW) {
    objectCount++;
    Serial.print("Object detected! Count: ");
    Serial.println(objectCount);

    display.showNumberDec(objectCount, true); // Show on TM1637
    delay(300); // Debounce delay (avoid multiple counts)
  }

  lastState = currentState;
}


3F:: Interface a Passive Infrared (PIR) sensor module with an Arduino to detect motion. When motion is detected, an LED connected to the Arduino should light up.
// objective:  Interface a Passive Infrared (PIR) sensor module with an Arduino

// Pin definitions
#define PIR_PIN 2   // PIR sensor output pin
#define LED_PIN 13  // LED pin

void setup() {
  pinMode(PIR_PIN, INPUT);
  pinMode(LED_PIN, OUTPUT);

  Serial.begin(9600);
  Serial.println("PIR Motion Detector Initialized...");
}

void loop() {
  int motionDetected = digitalRead(PIR_PIN);
  if (motionDetected == HIGH) {
    digitalWrite(LED_PIN, HIGH);   // Turn ON LED
    Serial.println("Motion Detected!");
  } else {
    digitalWrite(LED_PIN, LOW);    // Turn OFF LED
    Serial.println("No Motion...");
  }
  delay(200); // Small delay to stabilize readings
}


3G:: Interface a Servo motor with an Arduino UNO or Arduino NANO to control its position to move between specific angles (0 to 180 degrees and back to 0 degrees)

#include <Servo.h>

Servo myServo;  // Create Servo object

void setup() {
  myServo.attach(9); // Attach servo signal pin to D9
  Serial.begin(9600);
  Serial.println("Servo Control Initialized...");
}

void loop() {
  // Sweep from 0° to 180°
  for (int angle = 0; angle <= 180; angle++) {
    myServo.write(angle);   // Set servo angle
    Serial.print("Angle: ");
    Serial.println(angle);
    delay(15); // Adjust speed of movement
  }

  // Sweep back from 180° to 0°
  for (int angle = 180; angle >= 0; angle--) {
    myServo.write(angle);
    Serial.print("Angle: ");
    Serial.println(angle);
    delay(15);
  }}


3H:: To design and build a functional robot that can detect obstacles,
navigate a predefined path, and respond to environmental stimuli using
a set of sensors and actuators.

#define trigPin 10
#define echoPin 11
#define IR_SENSOR A0
#define ENA 9
#define IN1 8
#define IN2 7
#define ENB 3
#define IN3 5
#define IN4 4


long duration;
int distance;
int irValue;


void setup() {
  Serial.begin(9600);


  pinMode(trigPin, OUTPUT);
  pinMode(echoPin, INPUT);
  pinMode(IR_SENSOR, INPUT);


  pinMode(ENA, OUTPUT);
  pinMode(IN1, OUTPUT);
  pinMode(IN2, OUTPUT);
  pinMode(ENB, OUTPUT);
  pinMode(IN3, OUTPUT);
  pinMode(IN4, OUTPUT);


  analogWrite(ENA, 150); // set motor speed (0-255)
  analogWrite(ENB, 150);
}


// Function to calculate distance using ultrasonic
int getDistance() {
  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);
  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);


  duration = pulseIn(echoPin, HIGH);
  distance = duration * 0.034 / 2; // cm
  return distance;
}


// Movement functions
void forward() {
  digitalWrite(IN1, HIGH);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);
}


void backward() {
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, HIGH);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, HIGH);
}


void stopRobot() {
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, LOW);
}


void rightTurn() {
  digitalWrite(IN1, HIGH);
  digitalWrite(IN2, LOW);
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, HIGH);
}


void leftTurn() {
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, HIGH);
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);
}


void loop() {
  distance = getDistance();       // use global variable
  irValue = analogRead(IR_SENSOR);


  Serial.print("Distance: ");
  Serial.print(distance);
  Serial.print(" cm | IR Value: ");
  Serial.println(irValue);


  // Obstacle Avoidance Logic
  if (distance < 15) {
    stopRobot();
    delay(200);
    rightTurn(); // turn to avoid obstacle
    delay(500);
  }
  // IR Sensor Reaction (black line or edge detection)
  else if (irValue < 400) { // adjust threshold after testing
    stopRobot();
    Serial.println("IR detected line/edge!");
    delay(500);
  }
  // Default Movement
  else {
    forward();
  }
}
